# 2. Шарова архітектура (Layered Architecture)

* Статус: Прийнято
* Дата: 2025-11-28

## Контекст
Необхідно стандартизувати структуру коду для забезпечення чистоти та тестованості.

## Рішення
Використовуємо тришарову архітектуру:

1. **API Layer (`app/api/`)**:
   * Приймає HTTP запити.
   * Валідує вхідні дані (DTO).
   * Викликає Service Layer.
   * Повертає JSON відповіді та HTTP коди.
   * **ЗАБОРОНЕНО:** Звертатися до БД напряму.

2. **Service Layer (`app/services/`)**:
   * Містить бізнес-логіку.
   * Виконує операції над доменом.
   * Мапить сутності БД у DTO.
   * **ЗАБОРОНЕНО:** Приймати об'єкти `request` від Flask (має бути незалежним від вебу).

3. **Domain Layer (`app/domain/`)**:
   * Сутності бази даних (Models).
   * Основна бізнес-логіка сутностей.

## Напрямок залежностей
API -> Service -> Domain
