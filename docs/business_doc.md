<<<<<<< HEAD
# Бізнес документ

## Назва

Product & Content Management System (ProductCMS)

## Опис

ProductCMS — це веб-орієнтована система управління контентом, призначена для ефективного адміністрування корпоративних веб-сайтів. Система надає можливість керувати каталогом продуктів, динамічним слайдером на головній сторінці та командою адміністраторів.

Основна цінність системи полягає у спрощенні процесу оновлення контенту сайту без необхідності технічних знань. Адміністратори можуть швидко додавати нові продукти, оновлювати зображення та текстові описи, а також керувати візуальним представленням головної сторінки через інтуїтивний інтерфейс.

Система забезпечує розподіл повноважень між звичайними адміністраторами та суперадміністраторами, що дозволяє делегувати відповідальність за контент, зберігаючи контроль над критичними функціями управління користувачами.

## Користувачі(Ролі)

**Відвідувач (Guest)**
- Перегляд головної сторінки з каруселлю
- Перегляд каталогу продуктів
- Перегляд детальної інформації про продукт
- Немає доступу до адміністративних функцій

**Адміністратор (Admin)**
- Всі можливості відвідувача
- Доступ до адміністративної панелі
- Додавання, редагування та видалення продуктів
- Управління елементами каруселі (слайдами)
- Завантаження зображень для продуктів та слайдів
- Не може керувати іншими адміністраторами

**Суперадміністратор (Superadmin)**
- Всі можливості адміністратора
- Створення нових адміністраторів
- Редагування ролей існуючих адміністраторів
- Видалення адміністраторів (крім себе та інших суперадміністраторів)
- Повний контроль над системою

## Основні сценарії використання

**Додавання нового продукту**

Актор: Адміністратор
Передумова: Користувач авторизований як адміністратор
Основний сценарій:
1. Адміністратор входить в систему
2. Переходить до розділу "Продукти"
3. Натискає кнопку "Додати продукт"
4. Заповнює форму: назва, опис, завантажує зображення
5. Система валідує дані та зберігає новий продукт
6. Продукт з'являється в каталозі на публічній сторінці

**Оновлення слайдера головної сторінки**

Актор: Адміністратор
Передумова: Користувач авторизований як адміністратор
Основний сценарій:
1. Адміністратор переходить до розділу "Карусель"
2. Обирає існуючий слайд або створює новий
3. Завантажує зображення для слайда
4. Додає заголовок, опис, налаштовує позицію тексту
5. За потреби додає кнопку з посиланням
6. Зміни одразу відображаються на головній сторінці

**Створення нового адміністратора**

Актор: Суперадміністратор
Передумова: Користувач авторизований як суперадміністратор
Основний сценарій:
1. Суперадміністратор переходить до розділу "Адміністратори"
2. Натискає "Додати адміністратора"
3. Заповнює форму: логін, ім'я, email, пароль
4. Обирає роль (адміністратор або суперадміністратор)
5. Система перевіряє унікальність логіну та email
6. Новий адміністратор отримує доступ до системи

**Перегляд каталогу продуктів відвідувачем**

Актор: Відвідувач
Передумова: Немає
Основний сценарій:
1. Відвідувач заходить на головну сторінку
2. Переглядає слайдер з промо-матеріалами
3. Переходить до розділу "Продукти"
4. Бачить список всіх продуктів з зображеннями та описами
5. Обирає продукт для детального перегляду
6. Переглядає повну інформацію про продукт

**Редагування ролі адміністратора**

Актор: Суперадміністратор
Передумова: Існує адміністратор, роль якого потрібно змінити
Основний сценарій:
1. Суперадміністратор відкриває список адміністраторів
2. Обирає адміністратора для редагування
3. Змінює роль на адміністратор або суперадміністратор
4. Система перевіряє, що суперадміністратор не позбавляє себе прав
5. Зміни зберігаються та застосовуються одразу

## Функціональні вимоги

**Cтворення нових продуктів з назвою, описом та зображенням:**
**AC:** Given name(1..200), desc(1..1000), img_file[PNG|JPG|JPEG|GIF] → When POST → Then 201 + product_id, name, picture_path
**API:** POST /products → 201, 400, 401, 415

**Редагування інформації про існуючі продукти:**
**AC:** Given product_id, updated name(1..200)/description/img_file[PNG|JPG|JPEG|GIF] → When PUT → Then 200 + updated product
**API:** PUT /products/{id} → 200, 400, 401, 404, 415

**Видалення продукти з автоматичним видаленням пов'язаних файлів зображень:**
**AC:** Given valid product_id → When DELETE → Then 204
**API:** DELETE /products/{id} → 204, 401, 404

**Відображення продуктів в алфавітному порядку в публічному каталозі:**
**AC:** Given sort=name → When GET → Then 200 + items[title↑], total
**API:** GET /products?sort=name_asc → 200, 400

**Підтримка завантаження зображень форматів PNG, JPG, JPEG, GIF:**
**AC:** Given query(1..100), page≤100 → When GET → Then 200 + items, total, page
**API:** GET /products?query=...&page=... → 200, 400

**Створення слайдів каруселлі з зображенням, заголовком, описом та кнопкою:**
**AC:** Given valid title(1..100), description(≤500), image[PNG|JPG|JPEG|GIF] → When POST → Then 201 + slideId
**API:** POST /slides → 201, 400, 401, 415

**Підтримка різни позицій тексту на слайді каруселі (ліворуч, праворуч, по центру, без тексту):**
**AC:** Given position in [left,right,center,none] → When PUT /slides/{id}/position → Then 200 + updatedSlide
**API:** PUT /slides/{id}/position → 200, 400, 404, 401

**Додавання кнопки з довільним текстом та посиланням в слайді каруселі:**
**AC:** Given valid slideId, buttonText(1..50), buttonUrl(valid URL) → When PUT /slides/{id}/button → Then 200 + updatedSlide
**API:** PUT /slides/{id}/button → 200, 400, 404, 401

**Відображення слайдів в порядку їх ID на головній сторінці:**
**AC:** Given slides in DB → When GET /slides → Then 200 + items[id↑]
**API:** GET /slides → 200

**Використання безпечного хешування паролів (werkzeug.security):**
**AC:** Given rawPassword → When createUser → Then password_hash!=rawPassword
**API:** Internal (при POST /admins або POST /users)

**Підтримка сесії користувачів через Flask-Login:**
**AC:** Given valid credentials → When POST /login → Then 200 + session cookie
**API:** POST /login → 200, 400, 401

**Розпізнавання ролей адміністратора та суперадміністратора:**
**AC:** Given authenticated user → When GET /me → Then 200 + {role: admin|superadmin}
**API:** GET /me → 200, 401

**Блокування доступу до адміністративних функцій для неавторизованих користувачів:**
**AC:** Given !authenticated → When any /admin/* → Then 401
**API:** ANY /admin/* → 401

**Автоматичне перенаправлення на сторінку входу при спробі доступу до захищених сторінок:**
**AC:** Given !authenticated → When GET /admin/* → Then 302 redirect → /login
**API:** Поведінка фронтенду, що обробляється через Flask-Login @login_required

**Відображення головної сторінки з каруселлю для всіх відвідувачів:**
**AC:** Given slides>0 → When GET /home → Then 200 + slides[orderedById]
**API:** GET /home → 200

**Надавання каталогу продуктів з можливістю перегляду деталей:**
**AC:** Given page≤100, sort=name_asc → When GET /products → Then 200 + items,total,page
**API:** GET /products?page=...&sort=... → 200, 400

**Відображення детальної інформації про продукт на окремій сторінці:**
**AC:** Given valid productId → When GET /products/{id} → Then 200 + {title, description, image, price, etc.}
**API:** GET /products/{id} → 200, 404

**Створення нових облікових записів адміністраторів(для суперадміністратора):**
**AC:** Given valid username/email/password/role → When POST → Then 201 + id, username, role
**API:** POST /admins → 201, 400, 401, 409

**Перевірка унікальності логіну та email при створенні(для суперадміністратора):**
**AC:** Given username/email exist → When POST /admins → Then 409 
**API:** POST /admins → 201, 400, 401, 409

**Зміна ролі адміністратора(для суперадміністратора):**
**AC:** Given target.role in [admin,moderator] & valid newRole → When PUT /admins/{id}/role → Then 200 + updatedUser
**API:** PUT /admins/{id}/role → 200, 400, 401, 403, 404

**Заборона позбавляти себе прав суперадміністратора(для суперадміністратора):**
**AC:** Given currentUser.id=targetUser.id & newRole≠superadmin → When PUT /admins/{id} → Then 403
**API:** PUT /admins/{id} → 200, 403, 404, 401

**Заборона видалення власного облікового запису(для суперадміністратора):**
**AC:** Given currentUser.id=targetUser.id → When DELETE /admins/{id} → Then 403
**API:** DELETE /admins/{id} → 204, 403, 404, 401

**Заборона видалення інших суперадміністраторів(для суперадміністратора):**
**AC:** Given target.role=superadmin → When DELETE /admins/{id} → Then 403
**API:** DELETE /admins/{id} → 204, 403, 404, 401

## Нефункціональні вимоги

**Швидкодія (API):** p95 для GET /products, POST /login, GET /slides ≤ 200 мс при 50 RPS; вимірювання через Prometheus + OpenTelemetry Tracing; alert, якщо >250 мс протягом 5 хв.
**Швидкодія (FE):** LCP ≤ 2.5 с на p75 для головної сторінки та каталогу продуктів; Lighthouse ≥ 90; автоматичний alert у CI/CD при падінні нижче 85.
**Помилки:** частка 5xx < 0.5%/добу; відстеження через Sentry + Grafana; пейдж, якщо >1% протягом 10 хв.
**Доступність:** SLO 99.9%/місяць (error budget ≈ 43.2 хв); burn-rate >2× → пейдж; контроль через UptimeRobot або Prometheus blackbox exporter.
**Відновлення:** RTO ≤ 15 хв, RPO ≤ 5 хв для PostgreSQL; резервні копії щогодини; тестове відновлення — раз на місяць.
**Масштабованість:** система витримує подвоєння трафіку за ≤ 10 хв через автоскейлінг; stateless API; правило: CPU > 60% 5 хв → +1 інстанс.
**Пропускна здатність:** обробка ≥ 500 запитів/хв із p95 ≤ 300 мс; черга запитів не зростає понад 5 хв; оцінюється через Prometheus queue metrics.
**Безпека:** TLS ≥ 1.2; AES-256 для збережених паролів і файлів; rate-limit 10 req/min/IP для /auth/*; ротація секретів кожні 90 днів; 0 critical OWASP findings (OWASP ZAP baseline).
**Спостережуваність:** 100% HTTP-запитів містять request_id; трейсинг покриває ≥ 80% API-шляхів; дашборди Grafana для p95, 5xx, CPU, RPS, DB latency.
**Вартість (опц.):** середня вартість/запит ≤ $0.0003 при базовому трафіку; FinOps-звіт раз на тиждень; моніторинг витрат через Cloud Cost Exporter.

## Обмеження

**Функціональні обмеження**
- Система НЕ підтримує багатомовність інтерфейсу
- Система НЕ має функціоналу електронної комерції (кошик, оплата)
- Система НЕ підтримує коментарі або відгуки користувачів
- Система НЕ має вбудованої аналітики відвідувань
- Система НЕ підтримує версіонування контенту або відкат змін
- Система НЕ має функціоналу пошуку по продуктам
- Система НЕ підтримує категорії або теги для продуктів
- Система НЕ має API для зовнішньої інтеграції

**Технічні обмеження**
- Розмір завантажуваного зображення обмежений налаштуваннями Flask (за замовчуванням 16 MB)
- Система використовує SQLite, що обмежує одночасний запис
- Зображення зберігаються локально, без підтримки CDN або хмарних сховищ
- Система працює тільки в режимі однієї інстанції (без горизонтального масштабування)

**Бізнес-обмеження**
- Максимальна кількість адміністраторів не обмежена технічно, але рекомендовано до 20 осіб

**Обмеження безпеки**
- Система НЕ має двофакторної автентифікації
- Система НЕ логує дії адміністраторів для аудиту
- Відсутня можливість відновлення пароля через email
=======
business_doc.md
>>>>>>> 1de21f8a29728d66c5e27c2128e74dede4330889
